
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<title>Adobe Air 3 Native Installer Problems - Platform conversion failed</title>
	<meta name="description," content="">

	<meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no">

	<link rel="shortcut icon" href="http://localhost:2368/assets/favicon.png?v=2943f5f701">

	<link rel="stylesheet" href="../assets/css/all.min.css?v=2943f5f701">
	<link rel="stylesheet" media="(max-width: 699px)" href="../assets/css/jass_mob.min.css?v=2943f5f701">
	<link rel="stylesheet" media="(min-width: 700px)" href="../assets/css/jass_des.min.css?v=2943f5f701">

	<meta name="twitter:widgets:theme" content="light">
	<meta name="twitter:widgets:link-color" content="#2E8CDA">
	<meta name="twitter:widgets:border-color" content="#E8E8E8">
	<link rel="canonical" href="index.html">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="TiltBlog">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Adobe Air 3 Native Installer Problems - Platform conversion failed">
    <meta property="og:description" content='When packaging an Adobe Air 3 Native Installer in Windows using the following bat file… "sdk/path/bin/adt.bat" -package -XnoAneValidate -storetype pkcs12 -keystore test.p12 -storepass test -target native   InstallApp AppDemo-app.xml AppDemo.swf -extdir "../../AppLib/bin"   I...'>
    <meta property="og:url" content="http://localhost:2368/adobe-air-3-native-installer-problems-platform-conversion-failed/">
    <meta property="article:published_time" content="2011-09-18T15:27:00.000Z">
    <meta property="article:modified_time" content="2015-10-04T15:27:53.000Z">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Adobe Air 3 Native Installer Problems - Platform conversion failed">
    <meta name="twitter:description" content='When packaging an Adobe Air 3 Native Installer in Windows using the following bat file… "sdk/path/bin/adt.bat" -package -XnoAneValidate -storetype pkcs12 -keystore test.p12 -storepass test -target native   InstallApp AppDemo-app.xml AppDemo.swf -extdir "../../AppLib/bin"   I...'>
    <meta name="twitter:url" content="http://localhost:2368/adobe-air-3-native-installer-problems-platform-conversion-failed/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "TiltBlog",
    "author": {
        "@type": "Person",
        "name": "James Hill",
        "image": "//www.gravatar.com/avatar/9c737c0d0ac21a56844c7c90d80a9bd1?s=250&d=mm&r=x",
        "url": "http://localhost:2368/author/james",
        "sameAs": null,
        "description": null
    },
    "headline": "Adobe Air 3 Native Installer Problems - Platform conversion failed",
    "url": "http://localhost:2368/adobe-air-3-native-installer-problems-platform-conversion-failed/",
    "datePublished": "2011-09-18T15:27:00.000Z",
    "dateModified": "2015-10-04T15:27:53.000Z",
    "description": "When packaging an Adobe Air 3 Native Installer in Windows using the following bat file… &quot;sdk/path/bin/adt.bat&quot; -package -XnoAneValidate -storetype pkcs12 -keystore test.p12 -storepass test -target native   InstallApp AppDemo-app.xml AppDemo.swf -extdir &quot;../../AppLib/bin&quot;   I..."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="TiltBlog" href="../rss/index.html">
</head>
<body class="post-template">
	<style media="screen">
	nav {
		float: right;
		font-size: 24px!important;
	}

	nav ul.nav li {
		padding: 0em 0.4em;
	}

</style>
<header>
	<div class="wrapper">

		<div id="logo">
			<a href="../">TiltBlog</a>
		</div>
		<nav>
			<ul class="nav">
				<li class="nav-twitter">
					<a class="icons--icon icon" target="_blank" href="https://twitter.com/jhchill666" title="twitter">
						<i class="fa fa fa-twitter-square"></i>
					</a>
				</li>
				<li class="nav-linkedin">
					<a class="icons--icon icon" target="_blank" href="https://uk.linkedin.com/in/tiltdigital" title="linked">
						<i class="fa fa-linkedin-square"></i>
					</a>
				</li>
				<li class="nav-github">
					<a class="icons--icon icon" href="https://github.com/jamiehill" title="github" target="_blank">
						<i class="fa fa-github-square"></i>
					</a>
				</li>
			</ul>
		</nav>
		<div class="mobile_social">
			<h5>Follow me</h5>
			<div class="icons">
				<style media="screen">
    .icons a {
        font-size: .75em;
        margin: 2em auto 0;
        text-align: center;
        color: #444444;
        font-size: 32px;
    }
</style>
<div class="icons">
    <section class="blog--social">
        <div class="icons">
            <a class="icons--icon icon" target="_blank" href="https://twitter.com/jhchill666" title="twitter">
                <i class="fa fa fa-twitter-square"></i>
            </a>
            <a class="icons--icon icon" target="_blank" href="https://uk.linkedin.com/in/tiltdigital" title="linked">
                <i class="fa fa-linkedin-square"></i>
            </a>
            <a class="icons--icon icon" href="https://github.com/jamiehill" title="github" target="_blank">
                <i class="fa fa-github-square"></i>
            </a>
        </div>
    </section>
</div>
			</div>
		</div>
	</div>
</header>

	
<main class="content" role="main">
    <div class="wrapper">
        <div class="post">
            <article id="56" class="post">
                <div class="avatar_title">
                    <h1 class="title">
                        <a href="index.html">Adobe Air 3 Native Installer Problems - Platform conversion failed</a>
                    </h1>
                </div>
                <section>
                  <p>When packaging an Adobe Air 3 Native Installer in Windows using the following bat file…</p>

<pre><code class="language-bash">"sdk/path/bin/adt.bat" -package -XnoAneValidate -storetype
pkcs12 -keystore test.p12 -storepass test -target native  
InstallApp AppDemo-app.xml AppDemo.swf -extdir "../../AppLib/bin"  
</code></pre>

<p>I get the following error…  </p>

<pre><code class="language-bash">unexpected failure: Platform conversion failed. Process exited with error 4.  
java.io.IOException: Platform conversion failed. Process exited with error 4.  
at com.adobe.air.nai.NativePackager.conversionFail(NativePackager.java:1 93)  
at com.adobe.air.nai.NativePackager.invokePlatformConversion  
at com.adobe.air.nai.NativePackager.createPackage(NativePackager.java:75 )  
at com.adobe.air.ADTEntrypoint.parseArgsAndGo(ADTEntrypoint.java:132)  
at com.adobe.air.ADT.parseArgsAndGo(ADT.java:182)  
at com.adobe.air.ADTEntrypoint.run(ADTEntrypoint.java:68)  
at com.adobe.air.ADT.main(ADT.java:128)  
</code></pre>

<p>Now, I’m no expert on Windows, as I use a Mac on a day to day basis, since abandoning Windows a number of years ago. But as I was trying to package a windows specific Native Extension installer, I had no choice :(</p>

<p>I use Apache Ant quite alot, and am more used to using .jar files than .bat files. This is where the breakthrough came. When examining the .bat file above to try and figure out why it was failing, I thought I’d try the ADT.jar instead of the ADT.bat, and sure enough it fixed the problem.</p>

<p>So, below is the new bat file contents, with the old version underneath for comparissons sake.</p>

<pre><code class="language-bash">"sdk/path/lib/adt.jar" -package -XnoAneValidate -storetype
pkcs12 -keystore test.p12 -storepass test -target native  
InstallApp AppDemo-app.xml AppDemo.swf -extdir "../../AppLib/bin"  
</code></pre>

<p>[EDIT]</p>

<p>I was still getting this error after my initial ‘fix’, and upon further delving have isolated the issue. It basically boiled down to having merged the latest Flex SDK and Air SDK incorrectly. As such, there were conflicting namespaces that were causing problems. Check out my post on doing it properly to avoid this issue from the outset!</p>

<p>Target Flash Player 11 and Air 3</p>

<p>[EDIT]</p>

<p>Another solution I’ve just come across is that I’d incorrectly changed the extension.xml namespace. I’d wrongly assumed that when I’d merged the latest AIR 3 release over the latest Flex SDK 4.5.1, that all namespaces needed updating to reflect the new AIR 3 namespace.</p>

<p>Below is the first line of my extension.xml file after wrongly changing to version 3…</p>

<pre><code class="language-bash">
</code></pre>

<p>This is incorrect! The namespace for extensions ( for this release anyway ) is 2.5. ie.</p>

<pre><code class="language-bash">
</code></pre>

<p>Hope this helps someone.</p>
                </section>
                <div class="share_tags">
                    <div class="share">
                        <h5>Share this post</h5>
                        <div class="icons">
                            <a class="twitter" href="https://twitter.com/share?text=Adobe%20Air%203%20Native%20Installer%20Problems%20-%20Platform%20conversion%20failed&amp;url=http://localhost:2368/adobe-air-3-native-installer-problems-platform-conversion-failed/" target="_blank">
                                <i class="fa fa-twitter"></i>
                            </a>
                            <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/adobe-air-3-native-installer-problems-platform-conversion-failed/" target="_blank">
                                <i class="fa fa-facebook"></i>
                            </a>
                            <a class="google-plus" href="https://plus.google.com/share?url=http://localhost:2368/adobe-air-3-native-installer-problems-platform-conversion-failed/" target="_blank">
                                <i class="fa fa-google-plus"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="author"><figure class="avatar">
                        <img src="http://www.gravatar.com/avatar/9c737c0d0ac21a56844c7c90d80a9bd1?s=250&amp;d=mm&amp;r=x" alt="James Hill">
                    </figure><div class="info">
                        <h3 class="name"><a href="http://localhost:2368/author/james/">James Hill</a></h3>
                        <p class="more">Ver <a href="http://localhost:2368/author/james/">articles</a></p>
                    </div>
                </div>
            </article>
            <div class="postx">
                <a href="../adobe-air-3-and-the-new-native-extension-capabilities/">Adobe AIR 3 and the new Native Extension capabilities</a>

                <a href="../bitbucket-now-supports-git/">BitBucket now supports Git!</a>
            </div>

            <div id="disqus_thread"></div>
<script src="../assets/js/comments_disqus.min.js?v=2943f5f701"></script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>    
        </div><aside>
	<a href="mailto:jamie@tiltdigital.com" target="_blank" style="background: #4794DD;border-radius: 2px;width: 100%;display: inline-block;text-align: center;color: white;padding: .5em;margin-bottom: .75em;">Contact me</a>
	<div class="twitter">
		<a class="twitter-timeline" href="https://twitter.com/hashtag/javascript" data-widget-id="651003791966347264">#javascript Tweets</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>	</div>
	<footer>

	</footer>
</aside>

    </div>
</main>


	
	<!-- You can safely delete this line if your theme does not require jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
	<script src="../assets/js/all.min.js?v=2943f5f701"></script>

	<script src="../assets/js/count_disqus.min.js?v=2943f5f701"></script>
</body>
